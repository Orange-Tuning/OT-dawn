<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

<style>
  .sd-formFields .sd-filter {
    background: url("{{ 'select_arrow.png' | asset_url }}") center right no-repeat;
      }
</style>

{% assign finalmf = "" %}

<div class="page-width">
  {% if section.settings.title != blank %}
  <div class="title h3 sd-title">
    {{ section.settings.title }}
  </div>
  {% endif %}
  <div class="sd-formFields">
    <ul class="sd-dropdowns">
      <li class="sd-field_1">       
        <div class="dropdown">
          <button id="dropbtn1" class="dropbtn sd-filter">Maker</button>
          <div id="dropdown-field_1" class="dropdown-content">
            <input type="text" placeholder="Search.." id="myInput1" class="myInput">
            <div class="dropdown-content-list">
            {% for link in linklists.maker.links %}
            <a href="#" data-value="{{ link.handle }}">{{ link.title }}</a>
            {% endfor %}
            </div>
          </div>
        </div>       
      </li>
      <li class="sd-field_2">        
       <div class="dropdown">
          <button id="dropbtn2" class="dropbtn sd-filter" disabled>Model</button>
          <div id="dropdown-field_2" class="dropdown-content">
            <input type="text" placeholder="Search.." id="myInput2" class="myInput">  
            <div class="dropdown-content-list">
            </div>
          </div>
        </div> 
      </li>
      <li class="sd-field_3">        
       <div class="dropdown">
          <button id="dropbtn3" class="dropbtn sd-filter" disabled>Parts</button>
          <div id="dropdown-field_3" class="dropdown-content">
            <input type="text" placeholder="Search.." id="myInput3" class="myInput">
            <div class="dropdown-content-list">
            </div>
          </div>
        </div> 
      </li>
      <li class="sd-field_4">        
        <div class="dropdown">
          <button id="dropbtn4" class="dropbtn sd-filter" disabled>Manufacturer</button>
          <div id="dropdown-field_4" class="dropdown-content">
            <input type="text" placeholder="Search.." id="myInput4" class="myInput">   
            <div class="dropdown-content-list">
            </div>
          </div>
        </div> 
      </li>      
      <li class="sd_bttns">
        <div id="ymm_actions" class="button-action" align="center">
          <input type="button" name="submit" id="sd_search" value="GO" class="button sd_search"/>
          <input type="button" name="reset" id="sd_reset" value="Reset" class="button sd_reset"/>
        </div>
      </li>
    </ul>
  </div>
</div>

{% schema %}
{
"name": "t:sections.search-dropdowns.name",
"tag": "section",
"class": "section",
"settings": [
{
"type": "text",
"id": "title",
"default": "Search Dropdowns",
"label": "t:sections.search-dropdowns.settings.title.label"
}  
],
"presets": [
{
"name": "t:sections.search-dropdowns.presets.name"
}
]
}
{% endschema %}
<script src="{{ 'data.json' | asset_url }}" defer="defer"></script>
<script> 
 $(document).ready(function(){

    var menuArr = [{ "audi":{ "tt-tts-ttrs-8s" :[ "exhaust-systems","suspension" ],"s1-8x" :[ "exhaust-systems","suspension" ],"s4-b9" :[ "exhaust-systems","suspension" ],"s5-5f" :[ "exhaust-systems","suspension" ],"a1-8x" :[ "exhaust-systems","suspension" ],"rs3-8v" :[ "exhaust-systems","suspension" ],"a3-8v" :[ "exhaust-systems","suspension" ],"q2-ga" :[ "exhaust-systems","suspension" ],"q3-f3" :[ "exhaust-systems","suspension" ],"sq2-ga" :[ "exhaust-systems","suspension" ],"a3-8p" :[ "exhaust-systems","suspension" ],"tt-tts-ttrs-8j" :[ "exhaust-systems","suspension" ],"s3-8v" :[ "exhaust-systems","suspension" ],"a1-gb" :[ "exhaust-systems","suspension" ],"rsq3-f3" :[ "exhaust-systems","suspension" ],"rs3-8y" :[ "exhaust-systems","suspension" ],"a4-b8" :[ "exhaust-systems","suspension" ],"a4-b9" :[ "exhaust-systems","suspension" ],"a5-8t" :[ "exhaust-systems","suspension" ],"a5-f5" :[ "exhaust-systems","suspension" ],"rs4-b8" :[ "exhaust-systems","suspension" ],"rs5-8t" :[ "exhaust-systems","suspension" ],"s4-b8" :[ "exhaust-systems","suspension" ],"s5-8t" :[ "exhaust-systems","suspension" ],"tt-tts-8n" :[ "exhaust-systems","suspension" ],"a3-8l" :[ "exhaust-systems","suspension" ],"a4-b6" :[ "exhaust-systems","suspension" ],"a4-b7" :[ "exhaust-systems","suspension" ],"a6-4g-c7" :[ "exhaust-systems","suspension" ],"a6-f2-c8" :[ "exhaust-systems","suspension" ],"a7-4g-4g1-c7" :[ "exhaust-systems","suspension" ],"a7-f2-c8" :[ "exhaust-systems","suspension" ],"q7-4l" :[ "exhaust-systems","suspension" ],"q7-4m" :[ "exhaust-systems","suspension" ],"q8-4m" :[ "exhaust-systems","suspension" ],"r8-42" :[ "exhaust-systems","suspension" ],"rs3-8p" :[ "exhaust-systems","suspension" ],"rs4-b5" :[ "exhaust-systems","suspension" ],"rs4-b7" :[ "exhaust-systems","suspension" ],"rs4-b9" :[ "exhaust-systems","suspension" ],"rs6-4b-c5" :[ "exhaust-systems","suspension" ],"rs6-4f-c6" :[ "exhaust-systems","suspension" ],"rs6-4g-c7" :[ "suspension","exhaust-systems" ],"rs6-f2-c8" :[ "exhaust-systems","suspension" ],"rs7-4g-c7" :[ "suspension","exhaust-systems" ],"rs7-f2-c8" :[ "exhaust-systems","suspension" ],"rsq8-4m" :[ "exhaust-systems","suspension" ],"s3-8l" :[ "exhaust-systems","suspension" ],"s3-8p" :[ "exhaust-systems","suspension" ],"s3-8y" :[ "exhaust-systems","suspension" ],"s4-b6" :[ "exhaust-systems","suspension" ],"s4-b7" :[ "exhaust-systems","suspension" ],"s6-4f-c6" :[ "exhaust-systems","suspension" ],"s6-4g-c7" :[ "exhaust-systems","suspension" ],"s6-f2-c8" :[ "exhaust-systems","suspension" ],"s7-4g-c7" :[ "exhaust-systems" ],"s7-f2-c8" :[ "exhaust-systems","suspension" ],"s8-d4-4h" :[ "exhaust-systems","suspension" ],"s8-d5-4n" :[ "exhaust-systems","suspension" ],"sq5-8r1" :[ "exhaust-systems","suspension" ],"sq5-fy" :[ "exhaust-systems","suspension" ],"sq7-4m" :[ "exhaust-systems","suspension" ],"sq8-4m" :[ "exhaust-systems","suspension" ],"urquattro-85" :[ "exhaust-systems","suspension" ],"rs5-f5" :[ "exhaust-systems","suspension" ],"80-b4" :[ "suspension" ],"80-90-b2" :[ "suspension" ],"80-90-b3" :[ "suspension" ],"a4-b5" :[ "suspension" ],"a6-4f-c6" :[ "suspension" ],"q5-8r" :[ "suspension" ],"a3-8y" :[ "suspension" ],"q3-8u-8u1" :[ "suspension" ],"rsq3-8u-8u1" :[ "suspension" ],"a6-4b-c5" :[ "suspension" ],"q5-fy" :[ "suspension" ],"a4-8h-convertible" :[ "suspension" ],"s4-b5" :[ "suspension" ],"100-a6-c4" :[ "suspension" ],"q4-e-tron-fz" :[ "suspension" ],"a8-d2-4d" :[ "suspension" ],"a2-8z" :[ "suspension" ],"a8-d3-4e" :[ "suspension" ],"a8-d4-4h" :[ "suspension" ],"100-c3" :[ "suspension" ],"200-44" :[ "suspension" ],"a8-8h-d4" :[ "suspension" ],"a8-d4-8h" :[ "suspension" ],"a8-d5-f8" :[ "suspension" ],"e-tron-ge" :[ "suspension" ],"e-tron-gt-fw" :[ "suspension" ],"s6-4b-c5" :[ "suspension" ],"s8-d2-4d" :[ "suspension" ],"s8-d3-4e" :[ "suspension" ],"50-86" :[ "suspension" ],"coupe-89" :[ "suspension" ],"rs2-p1" :[ "suspension" ],"s2-b4" :[ "suspension" ],"s4-c4" :[ "suspension" ],"s6-c4" :[ "suspension" ],"v8-d11-c4" :[ "suspension" ],"a5-b8" :[ "suspension" ], }, "bmw":{ "f20-f21-1series" :[ "exhaust-systems","body-parts","suspension" ],"f30-f31-f34-3series" :[ "exhaust-systems","body-parts","suspension" ],"f22-f23-2series" :[ "exhaust-systems","body-parts","suspension" ],"f32-f33-f36-4series" :[ "exhaust-systems","body-parts","suspension" ],"f87-m2" :[ "exhaust-systems","body-parts","suspension" ],"g11-g12-7series" :[ "exhaust-systems","suspension" ],"g30-g31-5series" :[ "exhaust-systems","suspension" ],"f45-f46-2series-tourer" :[ "exhaust-systems","suspension" ],"f48-x1" :[ "exhaust-systems","suspension" ],"e81-e82-e87-e88-1series" :[ "exhaust-systems","suspension" ],"e90-e91-e92-e93-3series" :[ "exhaust-systems","suspension" ],"f80-m3" :[ "exhaust-systems","body-parts","suspension" ],"f82-f83-m4" :[ "exhaust-systems","body-parts","suspension" ],"f39-x2" :[ "exhaust-systems","suspension" ],"f40-1series" :[ "exhaust-systems","suspension" ],"g14-g15-g16-8series" :[ "exhaust-systems","suspension" ],"g20-g21-3series" :[ "exhaust-systems","suspension" ],"g29-z4" :[ "exhaust-systems","suspension" ],"g32-6series-gt" :[ "exhaust-systems","suspension" ],"g80-m3" :[ "exhaust-systems","body-parts","suspension" ],"g82-g83-m4" :[ "exhaust-systems","body-parts","suspension" ],"f97-x3m" :[ "exhaust-systems","suspension" ],"f98-x4m" :[ "exhaust-systems","suspension" ],"e30-3series" :[ "exhaust-systems","suspension" ],"e30-m3" :[ "exhaust-systems","suspension" ],"e31-8series" :[ "exhaust-systems","suspension" ],"e32-7series" :[ "exhaust-systems","suspension" ],"e34-5series" :[ "exhaust-systems","suspension" ],"e34-m5" :[ "exhaust-systems","suspension" ],"e36-3series" :[ "exhaust-systems","suspension" ],"e36-m3" :[ "exhaust-systems","suspension" ],"e38-7series" :[ "exhaust-systems","suspension" ],"e39-5series" :[ "exhaust-systems","suspension" ],"e39-m5" :[ "exhaust-systems","suspension" ],"e46-3series" :[ "exhaust-systems","suspension" ],"e46-m3" :[ "exhaust-systems","suspension" ],"e52-z8" :[ "exhaust-systems","suspension" ],"e60-e61-5series" :[ "exhaust-systems","suspension" ],"e60-e61-m5" :[ "exhaust-systems","suspension" ],"e63-e64-6series" :[ "exhaust-systems","suspension" ],"e63-e64-m6" :[ "exhaust-systems","suspension" ],"e70-x5-x5m" :[ "exhaust-systems","suspension" ],"e71-x6-x6m" :[ "exhaust-systems","suspension" ],"e82-m-coupe-1series" :[ "exhaust-systems","suspension" ],"e85-e86-z4-m-roadster-m-coupe" :[ "exhaust-systems","suspension" ],"e85-e86-z4-roadster-coupe" :[ "exhaust-systems","suspension" ],"e89-z4" :[ "exhaust-systems","suspension" ],"e90-e92-e93-m3" :[ "exhaust-systems","suspension" ],"f06-f12-f13-6series" :[ "exhaust-systems","suspension" ],"f06-f12-f13-m6" :[ "exhaust-systems","suspension" ],"f07-f10-f11-5series" :[ "exhaust-systems","suspension" ],"f10-m5" :[ "exhaust-systems","suspension" ],"f85-x5m" :[ "exhaust-systems","suspension" ],"f86-x6m" :[ "exhaust-systems","suspension" ],"f90-m5" :[ "exhaust-systems","body-parts","suspension" ],"f91-f92-f93-m8" :[ "exhaust-systems","body-parts","suspension" ],"f95-x5m" :[ "exhaust-systems","suspension" ],"f96-x6m" :[ "exhaust-systems","suspension" ],"g06-x6" :[ "exhaust-systems","suspension" ],"g22-g23-g26-4series" :[ "exhaust-systems","suspension" ],"z3" :[ "exhaust-systems","suspension" ],"z3-m-roadster-m-coupe" :[ "exhaust-systems","suspension" ],"g42-2series" :[ "exhaust-systems","suspension" ],"i8" :[ "exhaust-systems","suspension" ],"e65-e66-7series" :[ "exhaust-systems","suspension" ],"f25-x3" :[ "exhaust-systems","suspension" ],"f26-x4" :[ "exhaust-systems","suspension" ],"f44-2series-gran-coupe" :[ "exhaust-systems","suspension" ],"e23-7series" :[ "suspension" ],"z1" :[ "suspension" ],"e10-02series" :[ "suspension" ],"e12-5series" :[ "suspension" ],"e21-3series" :[ "suspension" ],"e24-6series" :[ "suspension" ],"e28-5series" :[ "suspension" ],"f01-f02-7series" :[ "suspension" ],"f15-x5" :[ "suspension" ],"f16-x6" :[ "suspension" ],"g01-x3" :[ "suspension" ],"g02-x4" :[ "suspension" ],"g05-x5" :[ "suspension" ],"e84-x1" :[ "suspension" ],"e53-x5" :[ "suspension" ],"e83-x3" :[ "suspension" ],"g26-i4" :[ "suspension" ],"i3" :[ "suspension" ],"g07-x7" :[ "suspension" ],"e28-m5" :[ "suspension" ],"u06-2series-active-tourer" :[ "suspension" ],"ix-i20" :[ "suspension" ],"f10-f11-5series" :[ "suspension" ], }, "citroen":{ "c4" :[ "exhaust-systems","suspension" ],"c5" :[ "exhaust-systems","suspension" ],"ds3" :[ "exhaust-systems","suspension" ],"ds4" :[ "exhaust-systems","suspension" ],"ds5" :[ "exhaust-systems" ],"ax" :[ "suspension" ],"c1" :[ "suspension" ],"saxo" :[ "suspension" ],"xsara" :[ "suspension" ],"berlingo" :[ "suspension" ],"c2" :[ "suspension" ],"c3" :[ "suspension" ],"c8" :[ "suspension" ],"evasion" :[ "suspension" ],"jumpy" :[ "suspension" ],"c-crosser" :[ "suspension" ],"c-zero" :[ "suspension" ],"ds7-crossback" :[ "suspension" ],"xantia" :[ "suspension" ],"xm" :[ "suspension" ],"zx" :[ "suspension" ], }, "cupra":{ "ateca-5fp" :[ "exhaust-systems","suspension" ],"leon-5f" :[ "exhaust-systems" ],"formentor" :[ "exhaust-systems","suspension" ],"leon-kl" :[ "exhaust-systems","suspension" ],"born" :[ "suspension" ], }, "ford":{ "focus-mk2" :[ "exhaust-systems","suspension" ],"focus-mk3" :[ "exhaust-systems","suspension" ],"fiesta-mk7" :[ "exhaust-systems","suspension" ],"f150" :[ "exhaust-systems","suspension" ],"fiesta-mk6" :[ "exhaust-systems","suspension" ],"fiesta-mk8" :[ "exhaust-systems","suspension" ],"focus-mk4" :[ "exhaust-systems","suspension" ],"mondeo-mk3" :[ "exhaust-systems","suspension" ],"mustang-mk6" :[ "exhaust-systems","suspension" ],"mustang-mach-e" :[ "exhaust-systems","suspension" ],"puma" :[ "exhaust-systems","suspension" ],"ranger" :[ "exhaust-systems","suspension" ],"capri" :[ "suspension" ],"cougar" :[ "suspension" ],"escort" :[ "suspension" ],"fiesta-mk1" :[ "suspension" ],"fiesta-mk2" :[ "suspension" ],"fiesta-mk3" :[ "suspension" ],"fiesta-mk5" :[ "suspension" ],"fusion" :[ "suspension" ],"ka" :[ "suspension" ],"mondeo-mk2" :[ "suspension" ],"mustang-mk1" :[ "suspension" ],"mustang-mk5" :[ "suspension" ],"probe" :[ "suspension" ],"scorpio" :[ "suspension" ],"sierra" :[ "suspension" ],"mondeo-mk5" :[ "suspension" ],"ecosport" :[ "suspension" ],"bronco" :[ "suspension" ],"edge" :[ "suspension" ],"focus-mk1" :[ "suspension" ],"c-max" :[ "suspension" ],"b-max" :[ "suspension" ],"mondeo-mk4" :[ "suspension" ],"kuga-mk1" :[ "suspension" ],"kuga-mk2" :[ "suspension" ],"galaxy" :[ "suspension" ],"s-max" :[ "suspension" ],"kuga-mk3" :[ "suspension" ],"tourneo-transit-custom" :[ "suspension" ],"fiesta-mk4" :[ "suspension" ],"explorer" :[ "suspension" ],"maverick" :[ "suspension" ],"mustang-mk4" :[ "suspension" ],"windstar" :[ "suspension" ],"escape" :[ "suspension" ],"mondeo-mk1" :[ "suspension" ], }, "hyundai":{ "i30-mk3" :[ "exhaust-systems","suspension" ],"i20-mk3" :[ "exhaust-systems","suspension" ],"genesis" :[ "exhaust-systems","suspension" ],"ix35" :[ "exhaust-systems","suspension" ],"kona" :[ "exhaust-systems","suspension" ],"tucson-mk3" :[ "exhaust-systems","suspension" ],"coupe" :[ "suspension" ],"elantra" :[ "suspension" ],"i30-mk2" :[ "suspension" ],"veloster" :[ "suspension" ],"santa-fe-mk3" :[ "suspension" ],"tucson-mk4" :[ "suspension" ],"santa-fe-mk4" :[ "suspension" ],"accent-mk4" :[ "suspension" ],"solaris" :[ "suspension" ],"i20-mk1" :[ "suspension" ],"i20-mk2" :[ "suspension" ],"i10-mk2" :[ "suspension" ],"i30-mk1" :[ "suspension" ],"i10-mk3" :[ "suspension" ],"i40" :[ "suspension" ],"bayon" :[ "suspension" ],"sonata" :[ "suspension" ],"ioniq" :[ "suspension" ],"ioniq-5" :[ "suspension" ],"grandeur" :[ "suspension" ],"ix20" :[ "suspension" ],"santa-fe-mk2" :[ "suspension" ],"accent-mk3" :[ "suspension" ],"i10-mk1" :[ "suspension" ],"santa-fe-mk1" :[ "suspension" ],"tucson-mk1" :[ "suspension" ],"tucson-mk2" :[ "suspension" ],"ix55" :[ "suspension" ],"veracruz" :[ "suspension" ],"galloper" :[ "suspension" ],"terracan" :[ "suspension" ],"atos" :[ "suspension" ],"getz" :[ "suspension" ],"lantra" :[ "suspension" ],"pony-mk3" :[ "suspension" ],"accent-mk1" :[ "suspension" ],"accent-mk2" :[ "suspension" ],"accent-mk5" :[ "suspension" ],"trajet" :[ "suspension" ], },  }];
    var mfgArr = JSON.parse(mfg);
    var arr, current_field, dropdown_val1, dropdown_val2, dropdown_val3, dropdown_val4,search_tag,tagstr,newtext;
    
    console.log("menuArr ::"+JSON.stringify(menuArr));  
    console.log("mfgArr :: "+mfgArr);     
    disableSearch();
    //Out side click
    $(document).on("click", function(event){
        var $trigger = $(".dropdown");
        if($trigger !== event.target && !$trigger.has(event.target).length){          
          //console.log("trigger");
          $(".dropdown-content").hide();
        }            
    });
      //Drop btn Click
    $(document).on('click','.dropbtn',function() {
      $(".dropdown").removeClass("active");
      $(this).parents(".dropdown").addClass("active");
      $(".dropdown").not(".active").find(".dropdown-content").hide();
      $(this).parents(".dropdown").find(".dropdown-content").toggle();     
    }); 
    // dropdown1
    $(document).on('click','#dropdown-field_1 a',function() {
      
      $(this).parents(".dropdown").find(".dropdown-content").toggle();      
      dropdown_val1 = $(this).attr("data-value");  
      newtext = dropdown_val1.toString().replace(/-/g, " ");
      var flag = 0;
	  $(this).parents(".dropdown").find(".dropbtn").text(newtext);
      tagstr = dropdown_val1;
      $("#dropdown-field_2 a").remove(); 
      $("#dropdown-field_3 a").remove(); 
      $("#dropdown-field_4 a").remove();
      $("#dropbtn2").text('Model').prop('disabled',true);
      $("#dropbtn3").text('Parts').prop('disabled',true);
      $("#dropbtn4").text('Manufacturer').prop('disabled',true);
      enableSearch();
      $.each(menuArr,function(key,val){ 
       // console.log("val ::"+JSON.stringify(val));
        //console.log("dropdown_val :: "+dropdown_val1);
        $.each(val,function(key1,val1){
          if(key1 == dropdown_val1)  
          { 
           // console.log("val1 ::"+JSON.stringify(val1));
            if(jQuery.type(val1) === 'object'){ 
              flag = 1;
              $.each(val1,function(key2,val2){                  
                $("#dropdown-field_2 .dropdown-content-list").append("<a href='#' data-value='"+key2+"'>"+key2.replace("-", " ")+"</a>");
              });
            }
            /*else{              
              $("#dropdown-field_2 .dropdown-content-list").append("<a href='#' data-value='"+key1+"'>"+val1.replace("-", " ")+"</a>");
            }*/
          }
        });
      });
      if(flag == 1) {
      $("#dropbtn2").prop('disabled',false); 
      }
      else{
        $("#dropbtn2").prop('disabled',true); 
      }
    });
    //Dropdown 2
    $(document).on('click','#dropdown-field_2 a',function() {      
      dropdown_val2 = $(this).attr("data-value");
      newtext = dropdown_val2.toString().replace(/-/g, " ");
      $(this).parents(".dropdown").find(".dropbtn").text(newtext);
      tagstr = dropdown_val1+"_"+dropdown_val2;
      $("#dropdown-field_3 a").remove();     
      $("#dropdown-field_4 a").remove();     
      $("#dropbtn3").text('Parts').prop('disabled',true);
      $("#dropbtn4").text('Manufacturer').prop('disabled',true);  
      var flag = 0;
      $.each(menuArr,function(key,val){ 
       // console.log("val ::"+JSON.stringify(val));
       // console.log("dropdown_val :: "+dropdown_val1);
        $.each(val,function(key1,val1){
          if(key1 == dropdown_val1)  
          { 
         //   console.log("val1 ::"+JSON.stringify(val1));
            if(jQuery.type(val1) === 'object'){              
              $.each(val1,function(key2,val2){                
                if(key2 == dropdown_val2)  
                {  
               //   console.log("in if key2 :: val2");
                  if(Array.isArray(val2)){
                    flag = 1;
                 //   console.log("yes object");
                    $.each(val2,function(key3,val3){
                    var newval = val3.toString().replace(/-/g, " ");
                  //  console.log("newval :: "+newval);
                    $("#dropdown-field_3 .dropdown-content-list").append("<a href='#' data-value='"+val3+"'>"+newval+"</a>");
                    });
                    }
                  else{
                    var newval1 = val2.toString().replace(/-/g, " ");
                //    console.log("newval1 :: "+newval1);
                    $("#dropdown-field_3 .dropdown-content-list").append("<a href='#' data-value='"+newval1+"'>"+newval1+"</a>");
                    
                  }
                  if(flag == 1)
                  {
                    $("#dropbtn3").prop('disabled',false);
                  } 
                  else{
                 //   console.log("parts else");
                    $("#dropbtn3").prop('disabled',true); 
                  }
                }
              });
            }           
          }
        });
      });      
      $(this).parents(".dropdown").find(".dropdown-content").toggle();
      
    });  
    //Dropdown 3
    $(document).on('click','#dropdown-field_3 a',function() {
      dropdown_val3 = $(this).attr("data-value");
      newtext = dropdown_val3.toString().replace(/-/g, " ");
      $(this).parents(".dropdown").find(".dropbtn").text(newtext);
      tagstr = dropdown_val1+"_"+dropdown_val2+"_"+dropdown_val3;
      // disableSearch();
      $("#dropdown-field_4 a").remove().prop('disabled',true);    
      $("#dropbtn4").text("Manufacturer");
      var mfgstr = dropdown_val1+"_"+dropdown_val2+"_"+dropdown_val3;
     // console.log("mfgstr :: "+mfgstr);
      var flag = 0;
      $.each(mfgArr,function(key,val){
        //console.log("val :: "+val);
       // console.log("mfgstr :: "+mfgstr);
        if(val.indexOf(mfgstr) > -1)  
        {   
          flag = 1;
          var mfgnewval = val.substring(val.lastIndexOf('_')).replace("_",'').replace("-"," ");
         // console.log("mfgnewval :: "+mfgnewval);          
          $("#dropdown-field_4 .dropdown-content-list").append("<a href='#' data-value='"+val.substring(val.lastIndexOf('_')).replace("_",'')+"'>"+val.substring(val.lastIndexOf('_')).replace("_",'').replace("-"," ")+"</a>");
          
        }
        if(flag == 1)
        {          
        	$("#dropbtn4").prop('disabled',false);
        } 
        else{         
           $("#dropbtn4").prop('disabled',true); 
        }
      });       
       $(this).parents(".dropdown").find(".dropdown-content").toggle(); 
      
    }); 
     //Dropdown 4    
    $(document).on('click','#dropdown-field_4 a',function() {        
      dropdown_val4 = $(this).attr("data-value");
      newtext = dropdown_val4.toString().replace(/-/g, " ");
      $(this).parents(".dropdown").find(".dropbtn").text(newtext);
      enableSearch();
      tagstr = dropdown_val1+"_"+dropdown_val2+"_"+dropdown_val3+"_"+dropdown_val4; 
      $(this).parents(".dropdown").find(".dropdown-content").toggle();
      
    });
    //Search Click
    $(document).on('click','#sd_search',function() {
      var pageurl = "https://orange-tuning.myshopify.com/search?q=tag:";
      window.location.replace(pageurl+tagstr);
    });
    // Reset Click
    $(document).on('click','#sd_reset',function() {
      disableSearch();     
      $("#dropdown-field_2 a").remove();
      $("#dropdown-field_3 a").remove();
      $("#dropdown-field_4 a").remove();     
      $("#dropbtn2").prop('disabled',true);
      $("#dropbtn3").prop('disabled',true);
      $("#dropbtn4").prop('disabled',true);
      $("#dropbtn1").text('Maker');
      $("#dropbtn2").text('Model');
      $("#dropbtn3").text('Parts');
      $("#dropbtn4").text('Manufacturer');
    });
     
    // input seach box
    $("input.myInput").keyup(function(){
      var filter, a, i;      
      filter = $(this).val().toUpperCase();
      //console.log("filter :: "+filter);
      a = $(this).parents(".dropdown-content").find("a");
      for (i = 0; i < a.length; i++) {
        var txtValue = a[i].textContent || a[i].innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          a[i].style.display = "";
        } else {
          a[i].style.display = "none";
        }
      }
    });
  
  });  
  
  function disableSearch()
  {
    $("#sd_search").prop('disabled',true);
  }
  function enableSearch()
  {
    $("#sd_search").prop('disabled',false);
  }
 
</script>